from sklearn.linear_model import LogisticRegression
from sklearn.ensemble import RandomForestClassifier
from sklearn.svm import SVC

from model_utils import SingleMinMaxScaler, NumericalEncoder, IdentityTransformer, SingleOneHotEncoder

from config import RANDOM_SEED

#feature engineering guide
guides_without_icon = {}
for feature in ['data_VS', 'data_SR', 'data_entropy', 'rsrc_VS', 'rsrc_SR', 'rsrc_entropy', 'text_VS', 'text_SR', 'text_entropy']:
    guides_without_icon[feature] = {'transformer': SingleMinMaxScaler, 'params': {'feature_range': (-1, 1)}}

guides_with_icon_ohe = guides_without_icon.copy()
guides_with_icon_ohe['clusterID'] = [
    {'transformer': SingleOneHotEncoder, 'params': {}}
    ]

guides_with_icon_num = guides_without_icon.copy()
guides_with_icon_num['clusterID'] = [
    {'transformer': NumericalEncoder, 'params': {'threshold': 3}}
    ]

guides_with_icon_ohe_num = guides_without_icon.copy()
guides_with_icon_ohe_num['clusterID'] = [
    {'transformer': NumericalEncoder, 'params': {'threshold': 3}},
    {'transformer': SingleOneHotEncoder, 'params': {}}
    ]

#model_config
logistic_l1_model = {
    'model': LogisticRegression,
    'params': {'penalty': 'l1', 'C': 1.0, 'random_state': RANDOM_SEED, 'n_jobs': -1}
}

logistic_l2_model = {
    'model': LogisticRegression,
    'params': {'penalty': 'l2', 'C': 1.0, 'random_state': RANDOM_SEED, 'n_jobs': -1}
}

randomforest_config = {
    'model': RandomForestClassifier,
    'params': {'n_estimators': 1000, 'random_state': RANDOM_SEED, 'n_jobs': -1}
}

svc_linear_model = {
    'model': SVC,
    'params': {'C': 1.0, 'kernel': 'linear', 'probability': True, 'random_state': RANDOM_SEED}
}

svc_rbf_model = {
    'model': SVC,
    'params': {'C': 1.0, 'kernel': 'rbf', 'probability': True, 'random_state': RANDOM_SEED}
}

#optimized model config
logistic_l1_model_no_icon = {
    'model': LogisticRegression,
    'params': {'penalty': 'l1', 'C': 261.015722, 'random_state': RANDOM_SEED, 'n_jobs': -1}
}

logistic_l1_model_ohe_icon = {
    'model': LogisticRegression,
    'params': {'penalty': 'l1', 'C': 17.782794, 'random_state': RANDOM_SEED, 'n_jobs': -1}
}

logistic_l2_model_no_icon = {
    'model': LogisticRegression,
    'params': {'penalty': 'l2', 'C': 3162.277660, 'random_state': RANDOM_SEED, 'n_jobs': -1}
}

logistic_l2_model_ohe_icon = {
    'model': LogisticRegression,
    'params': {'penalty': 'l2', 'C': 100000.000000, 'random_state': RANDOM_SEED, 'n_jobs': -1}
}

svc_linear_model_no_icon = {
    'model': SVC,
    'params': {'C': 261.015722, 'kernel': 'linear', 'probability': True, 'random_state': RANDOM_SEED}
}

svc_linear_model_ohe_icon = {
    'model': SVC,
    'params': {'C': 261.015722, 'kernel': 'linear', 'probability': True, 'random_state': RANDOM_SEED}
}



